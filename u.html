<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="manifest" href="manifest.webmanifest?clear-126">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <style>
        @import url("/styles/main.css?clear-116");
        .theme-43GGD76HGHJ {
            width: -webkit-fill-available;
            margin: 4rem 0rem 0rem 0rem;
            background: #0b0e114d;
            float: left;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            position: fixed;
            top: 0;
            overflow: hidden;
            border-radius: 0;
            z-index: 111;
            height: -webkit-fill-available;
        }
        
        @media (max-width:980px) {
            .theme-43GGD76HGHJ {
                margin: unset;
                background: var(--c15);
                float: left;
                top: 0;
                display: -webkit-box;
                display: -ms-flexbox;
                display: flex;
                z-index: 100;
                position: fixed;
                width: -webkit-fill-available;
                height: -webkit-fill-available;
                flex-wrap: nowrap;
                align-content: center;
                justify-content: center;
                align-items: center;
                display: none;
                flex-direction: column;
            }
            .theme-45FFDWEQArR3 {
                width: -webkit-fill-available;
                overflow: hidden;
                background: var(--c14);
                margin: 1rem;
            }
            .theme-FSDDF553sdfs {
                display: -webkit-box;
                display: -ms-flexbox;
                display: flex;
                flex-direction: column;
                justify-content: flex-start;
                align-items: center;
                width: 98%!important;
                height: 12rem!important;
                margin: 1%;
                margin-top: unset;
                position: absolute!important;
                box-shadow: inset 0px 0px 20rem 0px black;
                border-radius: 0rem 0rem 1rem 1rem;
            }
            .center-flex.full-bg.theme-FD54DGGHKKI,
            .theme-22gk3D8EKJ {
                width: -webkit-fill-available;
            }
            .center-flex.theme-22gk3D8EKJ {
                border-radius: unset;
                margin: unset;
                margin-top: 1rem;
            }
            .code-dfjs34jFDS334.theme-FDFDS45GFFFS {
                flex-direction: column;
            }
            .theme-FDFFS45GFFFS {
                gap: 3rem;
            }
        }
    </style>
</head>
<!---//////////////////////////------jquery------/////////////////////////--->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<!---/////////////////////////------sweetalert------/////////////////////////--->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.7/dist/sweetalert2.all.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<!---/////////////////////////------hammer------/////////////////////////--->
<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.js"></script>
<!---/////////////////////////------aos------/////////////////////////--->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<!---/////////////////////////------tippy------/////////////////////////--->
<script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.min.js"></script>
<script src="https://unpkg.com/tippy.js@6/dist/tippy-bundle.umd.js"></script>
<link rel="stylesheet" href="https://unpkg.com/tippy.js@6/animations/scale.css" />
<!---/////////////////////////------react------/////////////////////////--->
<script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<!---/////////////////////////------firebase------/////////////////////////--->
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-functions.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-storage.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-performance.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-remote-config.js"></script>
<!---/////////////////////////------MAIN SCRIPTS------/////////////////////////--->
<script src="/scripts/purl.js?clear-111"></script>
<script src="/scripts/firebase.js?clear-111"></script>
<script src="/scripts/tippy.js?clear-111"></script>
<script src="/scripts/open_user.js?clear-111"></script>
<script src="/scripts/com_1.js?clear-114"></script>
<!----------------------------------------------------------------->

<body>
    <profile-info class="center-flex relative">
        <banner class="center-flex relative">
            <non-ag class="full-wh full-bg center-flex absolute" id="user_banner" style="background-image: url(&quot;https://i.imgur.com/5QjkdVH.jpg&quot;), url(&quot;/images/banner.png&quot;);">

            </non-ag>
            <non-a class="second full-wh full-bg center-flex absolute ">

            </non-a>
            <non-b class="theme-FSDDF553sdfs full-wh full-bg center-flex absolute" id="user_banner" style="background-image: url(&quot;https://i.imgur.com/5QjkdVH.jpg&quot;), url(&quot;/images/banner.png&quot;);">
                <div class="center-flex theme-fsdfDSDF1233D" admin_play>

                </div>
            </non-b>
            <div class="center-flex theme-FDS45GFFFS">
                <div class="center-flex theme-FDS4SD5GfFFFS full-wh">

                    <div class="center-flex theme-FDFFS45GFFFS">
                        <div data-aos="zoom-in" data-aos-duration="050" data-aos-once="true" id="user_profile_pic" user-status class="center-flex full-bg theme-GGFFDSf5GFFFS" style="background-image: url('/images/icon.png')">
                            <!--Profile Pic-->
                        </div>
                        <div class="center-flex theme-FDSHG45GFFFS">
                            <div class=" center-flex code-dfjs34jFDS334 theme-FDFDS45GFFFS">
                                <!--Display Name-->
                                <div class="center-flex theme-FDFDS4GGGFhgjhjghj3FFS">
                                    <div id="user_displayNama" class="center-flex theme-FDFDS4GGGF3FFS">
                                        <div import_small_loader></div>
                                        <!--Name-->
                                    </div>
                                    <div id="user_name" class="center-flex theme-FDFDS4GGGdfdfgS">
                                        <div import_small_loader></div>
                                        <!--UserName-->
                                    </div>
                                </div>

                                <div afkTimeout data-aos="zoom-in" data-aos-duration="050" data-aos-once="true" class="noselect center-flex theme-FDFDS4GGGFFdFS">
                                    <!--afkTimeout-->

                                </div>
                            </div>
                            <!--Badges-->
                            <badge class="center-flex theme-FDSHGF45GFFFS" id="user_badges">

                            </badge>

                        </div>
                    </div>

                    <div class="noselect center-flex theme-FDS45GFFFGHFS" follow_and_setting>
                        <!--Follow/Unfollow & Setting Button-->
                        <div data-aos="zoom-in" data-aos-duration="050" data-aos-once="true" class="center-flex theme-FDS45fggfGFFFDFGS">
                            <div import_small_loader></div>
                        </div>
                    </div>
                </div>
                <div class="center-flex theme-FFGEKO233DF">
                    <div class="noselect center-flex theme-FFGEKgO233DF">
                        Custom Bio
                    </div>
                    <div id="user_dec" class="noselect theme-FFGEKO2h33DF">
                        <div import_small_loader></div>
                    </div>
                </div>
                <div class="full-wh center-flex theme-FDS45fgGFFFDFGS">
                    <!--Online/Following/Follower's Buttons-->
                    <div contex="Followers" goflow btx_followers btx_mixed class="noselect center-flex theme-FDS45fgfGFFFDFGS">
                        <!--BTN-->

                        Followers
                        <span followers_count class="theme-span-FSDF342D">
                            <div import_small_loader></div>
                        </span>
                    </div>
                    <div contex="Following" goflow btx_following btx_mixed class="noselect center-flex theme-FDS45fgfGFFFDFGS">
                        <!--BTN-->
                        Following
                        <span following_count class="theme-span-FSDF342D">
                            <div import_small_loader></div>
                        </span>
                    </div>
                </div>
            </div>
        </banner>


    </profile-info>

    <div class=" center-flex full-bg theme-FD54DFRKKI">
        <div class=" center-flex full-bg theme-FD54DGGHKKI" postlist>

        </div>
        <div unhidepostjs class="center-flex theme-ctpDFSD2213SffDFSD">
            <div class="center-flex full-bg theme-ctpDFSD2213SDFSD" main_profile_picture>

            </div>
            <div class="center-flex theme-ctpDFSD22g13SDFSD">
                Create a post
            </div>
            <div class="center-flex theme-ctpDFSD2213SDFSD" icon_c_plus>

            </div>
        </div>
        <div style="display: none;" class="theme-43GGD76HGHJ center-flex" import_postjs>

        </div>
    </div>
    <script src="/scripts/com.js?clear-202"></script>
    <script src="/scripts/goto.js"></script>
    <script src="/scripts/flow.js?clear-112"></script>
    <script src="/scripts/add_comment.js?clear-112"></script>
    <script>
        $('[unhidepostjs]').on('click', function() {
            $('[import_postjs]').show();
        });
        $('[hidepostjs]').on('click', function() {
            $('[import_postjs]').hide();
        });
    </script>
    <script>
        var url = window.location.href;
        var id = url.substring(url.lastIndexOf('?id=') + 4);

        $('[btx_followers]').attr('flowpoint', 'followers');
        $('[btx_following]').attr('flowpoint', 'following');
        $('[btx_mixed]').attr('callpoint', id);

        //////////////////////////////////////// ////////////////////////////////////////////////////////

        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////


        var ddb = firebase.firestore();
        ddb.collection("users").doc(id).collection("posts").get()
            .then(querySnapshot => {
                setTimeout(function name(params) {
                    $.getScript('/scripts/get_comment.js', function() {});
                }, 0001)
                querySnapshot.forEach(doc => {
                    //////////////////////////////////////////////////////////
                    var current = Math.round((new Date()).getTime() / 1000);
                    setTimeout(
                        function() {
                            var elements = document.getElementsByClassName("timeS");
                            for (var i = 0; i < elements.length; i++) {
                                var previous = elements[i].getAttribute("time");
                                elements[i].innerHTML = timeDifference(current, previous);

                                if ((current - previous) < 86400) {
                                    elements[i].parentNode.parentNode.classList.add("red-background");
                                }
                            }
                        }, 0100);
                    //////////////////////////////POST/////////////////////////////
                    console.log(doc.id);
                    const dec = doc.data().dec;
                    const img = doc.data().img;
                    const userid = doc.data().userid;
                    const link = doc.data().link;
                    const time = doc.data().time;
                    const user = firebase.auth().currentUser;
                    console.log('Current User' + user.uid);

                    const px = '<div data-aos="zoom-in" data-aos-duration="250" data-aos-once="true" class="center-flex theme-22gk3D8EKJ">' +
                        '    <div class="center-flex theme-22gk3D8ER">' +
                        '        <div class="center-flex theme-33gk3D8ER">' +
                        '            <div id="pfp-' + userid + '" class="full-bg center-flex theme-26gk3D8ER">' +
                        '           </div>' +
                        '            <div id="dname-' + userid + '" class="center-flex theme-22gk7D8ER" >' +

                        '            </div>' +
                        '        </div>' +
                        '        <div class="full-bg center-flex theme-26gk3D8ER code-GFK34DF87">' +
                        '            <time class="timeS" time="' + time + '"></time>' +
                        '        </div>' +
                        '    </div>' +
                        '    <img class="theme-52gk668ER full-wh center-flex" src="' + img + '">' +
                        '    <div class="center-flex full-wh theme-11gk448EDD">' +
                        '        <div class="center-flex theme-21gk448EDD">' +
                        '            <div heart-id="' + link + '" class="center-flex theme-41gk448EDD">' +
                        '            </div>' +
                        '            <div class="center-flex theme-26gk448EDD">' +
                        '            </div>' +
                        '        </div>' +
                        '        <div count-id="' + link + '" class="center-flex theme-27gk448EDD">' +
                        '            <div import_small_loader></div>' +
                        '        </div>' +
                        '    </div>' +
                        '<div class="center-flex theme-fsdfsSDFSD324234hgfghsdf">' +
                        '<div comment_box>' +
                        '<div get_comment user_id="' + userid + '" post_id="' + link + '" class="center-flex theme-fsdfsSDfsdFSD324234sdf">' +
                        '</div>' +
                        '<div comment_data="' + link + '">' +
                        '</div>' +
                        '</div>' +
                        '</div>' +
                        '<div add_comment class="center-flex code-com32FDhSSdDF theme-com32FDhSSDF">' +
                        '<div main_profile_picture class="full-bg center-flex theme-com32jFDSSDF">' +
                        '</div>' +
                        '<input add_comment_input add_comment_userid="' + userid + '" add_comment_id="' + link + '" type="text" placeholder="Add a commentâ€¦"  class="center-flex theme-com32FdDSSDF">' +
                        '<div add_comment_btn add_comment_btn_id="' + link + '" class="center-flex theme-com3f2FDSSDF">' + icon_arrow_right + '</div>' +
                        '</div>' +
                        '</div>';
                    $("[postlist]").prepend(px);


                    //////////////////////////////////////
                    var dxb = firebase.firestore().collection("users").doc(userid + '/posts/' + link + '/likes/' + user.uid);
                    firebase.firestore().collection("users").doc(userid + '/posts/' + link).collection("likes").get().then(function(querySnapshot) {
                        console.log(querySnapshot.size);
                        $('[count-id=' + link + ']').text(querySnapshot.size);
                    });

                    dxb.onSnapshot((doc) => {

                        if (doc.exists) {

                            $('[heart-id=' + link + ']').html(icon_like_fill);

                        } else {

                            $('[heart-id=' + link + ']').html(icon_like);

                        }

                    });

                    $('[heart-id=' + link + ']').click(function() {



                        dxb.get().then((doc) => {
                            if (doc.exists) {
                                console.log("Document data:", doc.data());
                                var like = doc.data().like;

                                if (like == true) {
                                    dxb.delete();
                                    console.log('Deleted')
                                    var ttx = $('[count-id=' + link + ']').text();
                                    var ttz = parseFloat(ttx) - 1;
                                    $('[count-id=' + link + ']').text(ttz);
                                };
                            } else {
                                // doc.data() will be undefihned in this case
                                dxb.set({
                                    like: true,
                                    userid: user.uid,
                                });
                                var ttx = $('[count-id=' + link + ']').text();
                                var ttz = parseFloat(ttx) + 1;
                                $('[count-id=' + link + ']').text(ttz);
                                console.log('Liked')
                            }

                        }).catch((error) => {
                            console.log("Error getting document:", error);
                        });
                    });

                    //////////////////////////////////////
                    setTimeout(function() {
                        firebase.database().ref('/data/users/').on('value', function(snapshot) {
                            snapshot.forEach((user) => {
                                var displayName = (user.val() && user.val().displayName);
                                var userid = (user.val() && user.val().userid);
                                var profile_picture = (user.val() && user.val().profile_picture);

                                $('[id=dname-' + userid + ']').text(displayName);
                                $('[id=pfp-' + userid + ']').css('background-image', 'url(' + profile_picture + '),url(https://animekeyo.com/anipedia/icons/icon.png)');

                            })
                        });
                    }, 0001)


                });
            });






        firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
                ////////////////////////////////////////
                if (firebase.auth().currentUser.uid == 'YH2r7xe271Xv5yVbnBOHRMJVVmf2') {
                    const ggfx = '<div btx="add_verified" class="theme-GDFLds34FSfDAA center-flex">' +
                        '<div add_verified class="theme-GDFLds34FSDAA center-flex">' +
                        'Verification' +
                        '<div add_verified_icon> </div>' +
                        '</div>' +
                        '</div>' +
                        '<div btx="add_staff" class="theme-GDFLds34FSfDAA center-flex">' +
                        '<div add_staff class="theme-GDFLds34FSDAA center-flex">' +
                        'Staff' +
                        '<div add_staff_icon> </div>' +
                        '</div>' +
                        '</div>' +
                        '<div btx="add_partner" class="theme-GDFLds34FSfDAA center-flex">' +
                        '<div add_partner class="theme-GDFLds34FSDAA center-flex">' +
                        'Partner' +
                        '<div add_partner_icon> </div>' +
                        '</div></div>' +
                        '<div btx="add_beta_tester" class="theme-GDFLds34FSfDAA center-flex">' +
                        '<div add_beta_tester class="theme-GDFLds34FSDAA center-flex">' +
                        'Tester' +
                        '<div add_beta_tester_icon> </div>' +
                        '</div></div>' +
                        '<div btx="add_king" class="theme-GDFLds34FSfDAA center-flex">' +
                        '<div add_king class="theme-GDFLds34FSDAA center-flex">' +
                        'King' +
                        '<div add_king_icon> </div>' +
                        '</div>' +
                        '</div>' +
                        '<div btx="add_simp" class="theme-GDFLds34FSfDAA center-flex">' +
                        '<div add_simp class="theme-GDFLds34FSDAA center-flex">' +
                        'Simp' +
                        '<div add_simp_icon> </div>' +
                        '</div>' +
                        '</div>';
                    $('[admin_play]').html(ggfx);
                }
                ////////////////////////////////////////
                var db_ref = firebase.database().ref('/data/users/' + id);
                db_ref.child('badges').on('value', function(snapshot) {
                    console.log('working badges');
                    var verified = (snapshot.val() && snapshot.val().verified);
                    if (verified == true) {
                        $('[id=user_badges]').prepend(icon_verified);
                        $('[add_verified_icon]').html(icon_close);
                    } else {
                        $('[add_verified_icon]').html(icon_checkmark);
                    }
                    const partner = (snapshot.val() && snapshot.val().partner);
                    if (partner == true) {
                        $('[id=user_badges]').prepend(icon_turbo_1);
                        $('[add_partner_icon]').html(icon_close);
                    } else {
                        $('[add_partner_icon]').html(icon_checkmark);
                    }
                    const staff = (snapshot.val() && snapshot.val().staff);
                    if (staff == true) {
                        $('[id=user_badges]').prepend(icon_staff);
                        $('[add_staff_icon]').html(icon_close);
                    } else {
                        $('[add_staff_icon]').html(icon_checkmark);
                    }
                    const tester = (snapshot.val() && snapshot.val().tester);
                    if (tester == true) {
                        $('[id=user_badges]').prepend(icon_beta_tester);
                        $('[add_beta_tester_icon]').html(icon_close);
                    } else {
                        $('[add_beta_tester_icon]').html(icon_checkmark);
                    }
                    const king = (snapshot.val() && snapshot.val().king);
                    if (king == true) {
                        $('[id=user_badges]').prepend(icon_owner);
                        $('[add_king_icon]').html(icon_close);
                    } else {
                        $('[add_king_icon]').html(icon_checkmark);
                    }
                    const simp = (snapshot.val() && snapshot.val().simp);
                    if (simp == true) {
                        $('[id=user_badges]').prepend('<div  data-aos="zoom-in" class=" center-flex" tippy data-tippy-content="Ultra Simp"><img style="width: 1.5rem; height: 1.5rem; border-radius: 0.2rem;" src="https://cdn.discordapp.com/attachments/847879736092131388/849530189348470854/444436026149175297.png"></div>');
                        $('[add_simp_icon]').html(icon_close);
                    } else {
                        $('[add_simp_icon]').html(icon_checkmark);
                    }
                });

                if (user.uid == 'YH2r7xe271Xv5yVbnBOHRMJVVmf2') {
                    $('[add_verified]').show();
                    $('[add_verified]').on('click', function() {
                        var db_ref = firebase.database().ref('/data/users/' + id).child('badges');
                        db_ref.once('value', function(snapshot) {
                            var verified = (snapshot.val() && snapshot.val().verified);
                            if (verified == true) {
                                db_ref.update({
                                    verified: false,
                                });
                            } else {
                                db_ref.update({
                                    verified: true,
                                });
                            };
                        });
                    });
                    $('[add_partner]').show();
                    $('[add_partner]').on('click', function() {
                        var db_ref = firebase.database().ref('/data/users/' + id).child('badges');
                        db_ref.once('value', function(snapshot) {
                            var partner = (snapshot.val() && snapshot.val().partner);
                            if (partner == true) {
                                db_ref.update({
                                    partner: false,
                                });
                            } else {
                                db_ref.update({
                                    partner: true,
                                });
                            };
                        });
                    });
                    $('[add_staff]').show();
                    $('[add_staff]').on('click', function() {
                        var db_ref = firebase.database().ref('/data/users/' + id).child('badges');
                        db_ref.once('value', function(snapshot) {
                            var staff = (snapshot.val() && snapshot.val().staff);
                            if (staff == true) {
                                db_ref.update({
                                    staff: false,
                                });
                            } else {
                                db_ref.update({
                                    staff: true,
                                });
                            };
                        });
                    });
                    $('[add_beta_tester]').show();
                    $('[add_beta_tester]').on('click', function() {
                        var db_ref = firebase.database().ref('/data/users/' + id).child('badges');
                        db_ref.once('value', function(snapshot) {
                            var tester = (snapshot.val() && snapshot.val().tester);
                            if (tester == true) {
                                db_ref.update({
                                    tester: false,
                                });
                            } else {
                                db_ref.update({
                                    tester: true,
                                });
                            };
                        });
                    });
                    $('[add_king]').show();
                    $('[add_king]').on('click', function() {
                        var db_ref = firebase.database().ref('/data/users/' + id).child('badges');
                        db_ref.once('value', function(snapshot) {
                            var king = (snapshot.val() && snapshot.val().king);
                            if (king == true) {
                                db_ref.update({
                                    king: false,
                                });
                            } else {
                                db_ref.update({
                                    king: true,
                                });
                            };
                        });
                    });
                    $('[add_simp]').show();
                    $('[add_simp]').on('click', function() {
                        var db_ref = firebase.database().ref('/data/users/' + id).child('badges');
                        db_ref.once('value', function(snapshot) {
                            var simp = (snapshot.val() && snapshot.val().simp);
                            if (simp == true) {
                                db_ref.update({
                                    simp: false,
                                });
                            } else {
                                db_ref.update({
                                    simp: true,
                                });
                            };
                        });
                    });
                }
                //////////////////////////////////////
                if (id == 0) {
                    swal({
                        text: "User Dont Exists",
                        buttons: false,
                        closeOnClickOutside: false,
                    });
                    setTimeout(
                        function() {
                            setTimeout(
                                function() {
                                    window.location.href = "/u?id=" + user.uid;
                                }, 1000);
                            swal({
                                text: "Redirecting to you're profile",
                                buttons: false,
                                closeOnClickOutside: false,
                            });
                        }, 1000);
                }
                checkIfUserExists(id)

                function userExistsCallback(id, exists) {
                    if (exists) {

                    } else {
                        swal({
                            text: "User Dont Exists",
                            buttons: false,
                            closeOnClickOutside: false,
                        });
                        setTimeout(
                            function() {
                                setTimeout(
                                    function() {
                                        window.location.href = "/u?id=" + user.uid;
                                    }, 1000);
                                swal({
                                    text: "Redirecting to you're profile",
                                    buttons: false,
                                    closeOnClickOutside: false,
                                });
                            }, 1000);

                    }
                }

                // Tests to see if /users/<userId> has any data. 
                function checkIfUserExists(id) {
                    var usersRef = firebase.database().ref('/data/users')
                    usersRef.child(id).once('value', function(snapshot) {
                        var exists = (snapshot.val() !== null);
                        userExistsCallback(id, exists);
                    });
                }
                //////////////////////////



                /////////////////////////////////////////
                var user = firebase.auth().currentUser;
                if (id == user.uid) {
                    const datas = '<div class="center-flex theme-FDS45fggfGFFFDFGS" open_setting><!--BTN-->Setting</div>';
                    $("[follow_and_setting]").html(datas);
                } else {
                    const data = '<div class="center-flex theme-FDS45fggfGFFFDFGS" id="follow_button"><!--BTN-->Follow</div>';
                    $("[follow_and_setting]").html(data);
                }
                console.log(user.uid);

                //////////////////////////////////////////////////////////////////////
                var user = firebase.auth().currentUser;
                var d = new Date();
                var aag = d.getTime();
                var aaf = d.getFullYear();
                var aae = d.getMonth();
                var aah = d.getMilliseconds();
                var aahx = d.getDay();
                var create_link = aag + "" + aaf + "" + aae + "" + aah + "" + aahx


                $("[id=edit_profile]").click(function() {
                    var rxxf = firebase.database().ref('/data/users/');

                    rxxf.child(id).on('value', function(snapshot) {
                        var foll = snapshot.val();
                        $('#in-name').val(foll.displayName);
                        $('#in-bio').val(foll.bio);
                        var cos = foll.bio;
                        $('#text-bio').text(cos);

                        const {
                            value: formValues
                        } = Swal.fire({
                            title: 'Update Profile',
                            html: '<input id="swal-input1" placeholder="Name || Only 20 Letters " value="' + foll.displayName + '" class="swal2-input">' +
                                '<input id="swal-input2" value="' + foll.bio + '" class="swal2-input">',
                            focusConfirm: false,
                            confirmButtonText: "Save",
                            allowOutsideClick: false,
                            preConfirm: () => {
                                var user = firebase.auth().currentUser;
                                var name = $('#swal-input1').val();
                                var bio = $('#swal-input2').val();
                                var refo = firebase.database().ref('/data/users/' + user.uid);
                                refo.update({
                                    bio: bio,
                                }).catch(function(error) {
                                    swal("WEEBOO!!?", "Only 80 Letter's are allowed || For Bio", "error", {
                                        className: "black",
                                        closeOnClickOutside: false
                                    });
                                });
                                refo.update({
                                    displayName: name,
                                }).catch(function(error) {
                                    swal("WEEBOO!!?", "Only 20 Letter's are allowed || For Name", "error", {
                                        className: "black",
                                        closeOnClickOutside: false
                                    });
                                });
                                user.updateProfile({
                                    displayName: name,
                                })
                            }
                        }).then(function() {
                            // Update successful.
                            swal(name, "User Profile Updated Successfully ", "success", {
                                className: "black",
                                closeOnClickOutside: false
                            });

                        }).catch(function(error) {
                            alert('ERROR'); // An error happened.
                        });

                    });

                });

                var rxxf = firebase.database().ref('/data/users/');
                rxxf.child(id).on('value', function(snapshot) {
                    var foll = snapshot.val();

                    $('#in-name').val(foll.displayName);

                    $('#in-bio').val(foll.bio);
                    var cos = foll.bio;
                    var cosx = foll.displayName;
                    $('#text-bio').text(cos);
                    if (cosx == 0) {
                        const {
                            value: formValues
                        } = Swal.fire({
                            title: 'Blank Name is Not allowed',
                            html: '<input id="swal-input1" placeholder="Display Name" value="' + foll.displayName + '" class="swal2-input">',
                            focusConfirm: false,

                            preConfirm: () => {
                                var user = firebase.auth().currentUser;
                                var name = $('#swal-input1').val();
                                var bio = $('#swal-input2').val();
                                firebase.database().ref('/data/users/' + user.uid).update({
                                    displayName: name,
                                });
                                user.updateProfile({
                                    displayName: name,
                                }).then(function() {
                                    // Update successful.
                                    swal(name, "User Profile Updated Successfully ", "success", {
                                        className: "black",
                                        closeOnClickOutside: false
                                    });

                                }).catch(function(error) {
                                    alert('ERROR'); // An error happened.
                                });

                            }
                        })
                    }
                });



                if (id == user.uid) {

                    var rxxf = firebase.database().ref('/data/users/');
                    rxxf.child(user.uid + '/followers/').on('value', function(snapshot) {
                        var foll = snapshot.numChildren();
                        $("[followers_count]").text(foll);
                    });

                    rxxf.child(user.uid + '/followers/').once('value', function(snapshot) {
                        snapshot.forEach((user) => {
                            var users = user.val().id;
                            var page = "";
                            var cx = '<userhash class="" id=""><statusdot class="follolist" id="statuso-' + users + '"></statusdot><pfp class="" id="pfp-' + users + '"></pfp><dname class="" id="dname-' + users + '">SyeraChan</dname><no class="followx" ><a href="/user?id=' + users + '">Open</a></no></userhash>';
                            $(cx).appendTo($("[id=datafoll]"));
                        });
                    });

                    rxxf.child(user.uid + '/following/').on('value', function(snapshot) {
                        var foll = snapshot.numChildren();
                        $("[following_count]").text(foll);
                    });

                    rxxf.child(user.uid + '/following/').once('value', function(snapshot) {
                        snapshot.forEach((user) => {
                            var users = user.val().id;
                            var cx = '<userhash class="" id=""><statusdot class="follolist" id="statuso-' + users + '"></statusdot><pfp class="" id="pfp-' + users + '"></pfp><dname class="" id="dname-' + users + '">SyeraChan</dname><no class="followx" ><a href="/user?id=' + users + '">Open</a></no></userhash>';
                            $(cx).appendTo($("[id=datafolling]"));
                        });
                    });



                } else {


                    var rxxf = firebase.database().ref('/data/users/');
                    rxxf.child(id + '/followers/').on('value', function(snapshot) {
                        var foll = snapshot.numChildren();
                        $("[followers_count]").text(foll);
                    });

                    rxxf.child(id + '/followers/').once('value', function(snapshot) {
                        snapshot.forEach((user) => {
                            var users = user.val().id;
                            var page = "";
                            var cx = '<userhash class="" id=""><statusdot class="follolist" id="statuso-' + users + '"></statusdot><pfp class="" id="pfp-' + users + '"></pfp><dname class="" id="dname-' + users + '">SyeraChan</dname><no class="followx" ><a href="/user?id=' + users + '">Open</a></no></userhash>';
                            $(cx).appendTo($("[id=datafoll]"));
                        });
                    });

                    rxxf.child(id + '/following/').on('value', function(snapshot) {
                        var foll = snapshot.numChildren();
                        $("[following_count]").text(foll);
                    });

                    rxxf.child(id + '/following/').once('value', function(snapshot) {
                        snapshot.forEach((user) => {
                            var users = user.val().id;
                            var cx = '<userhash class="" id=""><statusdot class="follolist" id="statuso-' + users + '"></statusdot><pfp class="" id="pfp-' + users + '"></pfp><dname class="" id="dname-' + users + '">SyeraChan</dname><no class="followx" ><a href="/user?id=' + users + '">Open</a></no></userhash>';
                            $(cx).appendTo($("[id=datafolling]"));
                        });
                    });

                }
            };


            var ruf = firebase.database().ref('/data/users/' + user.uid + '/following/' + id);
            var rxf = firebase.database().ref('/data/users/' + id + '/followers/' + user.uid);


            ruf.on('value', function(snapshot) {
                var follow = (snapshot.val() && snapshot.val().follow);

                if (follow == true) {
                    $("[id=follow_button]").text("Unfollow");
                } else {
                    $("[id=follow_button]").text("Follow");
                };

            });

            $("[id=follow_button]").click(function() {
                ruf.once('value', function(snapshot) {
                    var follow = (snapshot.val() && snapshot.val().follow);
                    if (follow == true) {
                        ruf.remove();
                    } else {
                        ruf.update({
                            follow: true,
                            id: id,
                        });
                    };
                });
                rxf.once('value', function(snapshot) {
                    var follow = (snapshot.val() && snapshot.val().follow);
                    if (follow == true) {
                        rxf.remove();
                    } else {
                        rxf.update({
                            follow: true,
                            id: user.uid,
                        });
                    };
                });

            });

        });


        var db_ref = firebase.database().ref('/data/users/' + id);
        db_ref.on('value', function(snapshot) {
            var displayName = (snapshot.val() && snapshot.val().displayName);
            var profile_picture = (snapshot.val() && snapshot.val().profile_picture);
            var banner = (snapshot.val() && snapshot.val().banner);
            var bio = (snapshot.val() && snapshot.val().bio);

            var userid = firebase.auth().currentUser.uid;
            var onlineState = (snapshot.val() && snapshot.val().onlineState);
            var afkTimeout = (snapshot.val() && snapshot.val().afkTimeout);
            var username = (snapshot.val() && snapshot.val().username);

            if (onlineState == true) {
                $('[user-status]').addClass('online');
                $('[user-status]').removeClass('offline');
                console.log('User Online');

                if (typeof afkTimeout == 'undefined') {
                    $('[afkTimeout]').text('Old User Account');
                } else if (afkTimeout == 0) {
                    $('[afkTimeout]').text('Old User Account');
                } else {
                    $('[afkTimeout]').text('Active');
                    $('[afkTimeout]').css('color', 'var(--c7)');
                };

            } else {
                $('[user-status]').addClass('offline');
                $('[user-status]').removeClass('online');

                if (typeof afkTimeout == 'undefined') {
                    $('[afkTimeout]').text('Old User Account');
                } else if (afkTimeout == 0) {
                    $('[afkTimeout]').text('Old User Account');
                } else {
                    $('[afkTimeout]').html('Active <time class="timeSx" timex="' + afkTimeout + '"></time>');
                    $('[afkTimeout]').css('color', 'var(--c11)');
                    setTimeout(
                        function() {
                            var current = Math.round((new Date()).getTime() / 1000);
                            var elements = document.getElementsByClassName("timeSx");
                            for (var i = 0; i < elements.length; i++) {
                                var previous = elements[i].getAttribute("timex");
                                elements[i].innerHTML = timeDifference(current, previous);

                                if ((current - previous) < 86400) {
                                    elements[i].parentNode.parentNode.classList.add("red-background");
                                }
                            }
                        }, 0001);
                    setInterval(
                        function() {
                            var current = Math.round((new Date()).getTime() / 1000);
                            var elements = document.getElementsByClassName("timeSx");
                            for (var i = 0; i < elements.length; i++) {
                                var previous = elements[i].getAttribute("timex");
                                elements[i].innerHTML = timeDifference(current, previous);

                                if ((current - previous) < 86400) {
                                    elements[i].parentNode.parentNode.classList.add("red-background");
                                }
                            }
                        }, 1000);

                };
                console.log('User Offline');
            };

            $("[id=user_displayNama]").text(displayName);
            $("[id=user_name]").text('@' + username);


            if (bio == 0) {
                if (id == userid) {
                    $("[id=user_dec]").html('<div click_bio_add class="theme-FFGEKOGGF33DF" open_setting>Empty Bio!!! Click <span style="color:var(--c19)">Here</span> to add bio. </div>');
                } else {
                    $("[id=user_dec]").text('Looks like ' + displayName + ' didnt add bio!');
                }
            } else {
                if (typeof bio == "undefined") {
                    if (id == userid) {
                        $("[id=user_dec]").html('<div click_bio_add class="theme-FFGEKOGGF33DF" open_setting>Empty Bio!!! Click <span style="color:var(--c19)">Here</span> to add bio. </div>');
                    } else {
                        $("[id=user_dec]").text('Looks like ' + displayName + ' didnt add bio!');
                    }
                } else {
                    ///////////////////STP///////////////

                    const st2 = bio.replace(/(<([^>]+)>)/gi, "");
                    var st3 = st2.replace(/\[/g, '<span stb class="pointer theme-FDFgdf3243FDSDF">');
                    var st4 = st3.replace(/\]/g, '</span>');
                    $('[id=user_dec]').html(st4);

                    $(document).on('click', '[stb]', function() {
                        $(this).css('color', 'var(--c9)');
                        $(this).css('cursor', 'unset');
                    });
                    //////////////////////////////////////
                    $.getScript('/scripts/linky.js', function() {});
                };
            }
            $('[id=user_banner]').css('background-image', 'url(' + banner + '),url(/images/banner.png)');
            $('[id=user_profile_pic]').css('background-image', 'url(' + profile_picture + '),url(/images/icon.png)');
            // ...

            /////////////////////////HEAD////////////////////
            var ghk = "'s";
            var llk = '<title>' + displayName + '' + ghk + ' Profile - on AnimeKeyo</title><link rel="shortcut icon" href="' + profile_picture + '"><meta name="description" content="' + bio + '"><meta name="author" content="' + displayName + '">';

            $("[id=thehead]").prepend(llk);


            ////////////////////////////////////////////////
        });
    </script>
</body>
</body>

</html>