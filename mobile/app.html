<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime Keyo Mobile</title>
    <!---//////////////////////////------jquery------/////////////////////////--->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!---/////////////////////////------sweetalert------/////////////////////////--->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.7/dist/sweetalert2.all.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <!---/////////////////////////------hammer------/////////////////////////--->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.js"></script>
    <!---/////////////////////////------aos------/////////////////////////--->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <!---/////////////////////////------tippy------/////////////////////////--->
    <script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@6/dist/tippy-bundle.umd.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/animations/scale.css" />
    <!---/////////////////////////------react------/////////////////////////--->
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!---/////////////////////////------firebase------/////////////////////////--->
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-functions.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-performance.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-remote-config.js"></script>
    <!---/////////////////////////------MAIN SCRIPTS------/////////////////////////--->
    <script src="https://animekeyo.com/scripts/purl.js?clear1-111"></script>
    <script src="https://animekeyo.com/scripts/firebase.js?clear1-111"></script>
    <script src="https://animekeyo.com/scripts/tippy.js?clear1-111"></script>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>


    <stylesheet></stylesheet>
    <style>
        @import url("https://animekeyo.com/styles/style.css?clear-2342");
        .ui-overlay-a,
        .ui-page-theme-a,
        .ui-page-theme-a .ui-panel-wrapper {
            background-color: var(--r2);
        }
        /* Swipe works with mouse as well but often causes text selection. */
        
        #demo-page * {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -o-user-select: none;
            user-select: none;
        }
        /* Arrow only buttons in the header. //*/
        
        #demo-page .ui-header .ui-btn {
            background-color: none;
            border: none;
            top: 9px;
        }
        
        #demo-page .ui-header .ui-btn-inner {
            border: none;
        }
        /* Content styling. */
        
        dl {
            font-family: "Times New Roman", Times, serif;
            padding: 1em;
        }
        
        dt {
            font-size: 2em;
            font-weight: bold;
        }
        
        dt span {
            font-size: .5em;
            color: #777;
            margin-left: .5em;
        }
        
        dd {
            font-size: 1.25em;
            margin: 1em 0 0;
            padding-bottom: 1em;
            border-bottom: 1px solid #eee;
        }
        
        .back-btn {
            float: right;
            margin: 0 2em 1em 0;
        }
        
        .center-flex.fixed.theme-GSDgFD67f {
            top: unset;
            bottom: 0;
            width: -webkit-fill-available;
            min-height: 4rem;
            gap: 1rem;
            margin: 1rem;
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            align-content: center;
            justify-content: flex-start;
            align-items: center;
        }
        
        .full-bg.full-wh.ui-content {
            margin: unset;
            padding: unset;
            width: fit-content;
            height: -webkit-fill-available;
            position: absolute;
            display: flex;
            flex-direction: column;
            flex-wrap: nowrap;
            align-content: center;
            justify-content: center;
            align-items: center;
            top: 0;
        }
        
        .center-flex.theme-GSDgFD67 {
            width: 3rem;
            height: 3rem;
            background-color: var(--r3);
            border-radius: 100rem;
        }
        
        img[set-image] {
            width: 100%;
        }
        
        .ui-header.ui-bar-b {
            z-index: 1;
        }
        
        .center-flex.theme-GSDgFD67 svg {
            fill: white;
        }
        
        .center-flex.fixed.full-wh.theme-FSDFg34S1 {
            background-color: var(--r1);
        }
        
        .center-flex.absolute.theme-FSDFg34S2 {
            width: 4.5rem;
            background-color: var(--r1);
            height: -webkit-fill-available;
            display: flex;
            align-content: flex-start;
            justify-content: flex-start;
            align-items: flex-start;
            overflow-y: scroll;
        }
        
        .center-flex.theme-FSDFg34S24g {
            width: -webkit-fill-available;
            height: auto;
            gap: 0.5rem;
            margin: 0.5rem;
            display: flex;
            justify-content: flex-start;
        }
        
        .center-flex.theme-FSDFg34S24 {
            width: 3rem;
            height: 3rem;
            border-radius: 100rem;
            overflow: hidden;
            background-color: var(--r4);
        }
        
        .center-flex.absolute.theme-FSDFg34S3 {
            width: -webkit-fill-available;
            height: -webkit-fill-available;
            margin-left: 4.5rem;
            background-color: var(--r3);
        }
        
        .center-flex.absolute.theme-FSDFg34S34 {
            height: 3.5rem;
            width: -webkit-fill-available;
            background-color: var(--r2);
            top: unset;
            bottom: 0;
        }
        
        .center-flex.theme-FSDFg34S342 {
            width: 2.3rem;
            height: 2.3rem;
            border-radius: 100rem;
            background-color: var(--c7);
        }
        
        .center-flex.absolute.theme-FSDFg34S34 {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }
        
        .center-flex.theme-FSDFg34S341 {
            display: flex;
            flex-direction: row;
            gap: 0.5rem;
            margin: 0.5rem;
        }
        
        servers {
            gap: 0.5rem;
            display: flex;
            flex-direction: column;
            flex-wrap: nowrap;
            align-content: center;
            justify-content: center;
            align-items: center;
        }
        
        .center-flex.absolute.full-wh.theme-FSDFg34S3D {
            margin-bottom: 3.5rem;
            display: flex;
            align-content: flex-start;
            justify-content: flex-start;
            align-items: flex-start;
        }
        
        .center-flex.theme-FSDFg34S3Dg1 {
            padding: 0.7rem;
            background-color: var(--r2);
            width: -webkit-fill-available;
            display: flex;
            align-items: flex-start;
            font-family: sans-serif;
            letter-spacing: 0.4px;
            FONT-WEIGHT: 600;
            font-size: 1rem;
        }
        
        .center-flex.full-bg.theme-FSDFg34S3Dg2 {
            width: -webkit-fill-available;
            background-color: white;
            height: 8rem;
        }
    </style>
</head>

<body>
    <div data-role="page" id="demo-page" data-theme="d" data-url="demo-page">
        <!-- /header -->
        <div class="full-bg full-wh" data-role="content">

            <div class="center-flex fixed theme-GSDgFD67f">

                <div btn-re get="img/wallpaper" class="center-flex theme-GSDgFD67">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"/></svg>
                </div>
                <div class="center-flex theme-GSDgFD67">

                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                </div>
            </div>
        </div>
        <!-- /content -->
        <div data-role="panel" id="left-panel" data-display="push" data-position="left" data-theme="c">
            <div class="center-flex fixed full-wh theme-FSDFg34S1">
                <div class="center-flex absolute theme-FSDFg34S2">
                    <div class="center-flex theme-FSDFg34S24g">
                        <servers>

                        </servers>
                        <div class="center-flex theme-FSDFg34S24">

                        </div>

                    </div>
                </div>
                <div class="center-flex absolute theme-FSDFg34S3">
                    <!---SERVER NAME ? OTHER DATA-->
                    <div server-data class="center-flex absolute full-wh theme-FSDFg34S3D">

                    </div>
                    <style>
                        .absolute.center-flex.theme-mp3playermini {
                            width: -webkit-fill-available;
                            height: 3rem;
                            top: unset;
                            bottom: 3.5rem;
                            background: var(--r3);
                        }
                        
                        .center-flex.theme-mp3playermini1 {
                            width: -webkit-fill-available;
                            height: -webkit-fill-available;
                            margin: 0.5rem;
                            display: flex;
                            flex-direction: row;
                            justify-content: flex-start;
                            gap: 0.6rem;
                            align-items: center;
                        }
                        
                        .center-flex.theme-mp3playermini2 {
                            height: 100%;
                            width: 32.21px;
                            background-color: var(--r1);
                            border-radius: 5px;
                        }
                        
                        .center-flex.theme-mp3playermini41 {
                            display: flex;
                            font-size: 0.7rem;
                            gap: 0.07rem;
                            align-items: flex-start;
                        }
                        
                        .center-flex.theme-mp3playermini412,
                        .theme-mp3playermini411 {
                            width: 6rem;
                            white-space: nowrap;
                            overflow: hidden;
                            display: block;
                            text-overflow: ellipsis;
                        }
                        
                        .center-flex.theme-mp3playermini4 svg {
                            fill: var(--c6);
                            width: 2rem;
                            height: 2rem;
                        }
                    </style>

                    <audio id="music-player" autoplay>
                        <source id="audioSource" src="" type="audio/mp3">
                    </audio>
                    <div class="absolute center-flex theme-mp3playermini">
                        <div class="center-flex theme-mp3playermini1">
                            <div id="song-pic" class="center-flex full-bg theme-mp3playermini2">

                            </div>
                            <div class="center-flex theme-mp3playermini41">
                                <div id="artist" class="center-flex theme-mp3playermini411">

                                </div>
                                <div id="song-title" class="center-flex theme-mp3playermini412">

                                </div>
                            </div>
                            <div id="playPause" class="center-flex theme-mp3playermini4">
                                <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M9.5,14.67V9.33c0-0.79,0.88-1.27,1.54-0.84 l4.15,2.67c0.61,0.39,0.61,1.29,0,1.68l-4.15,2.67C10.38,15.94,9.5,15.46,9.5,14.67z"/></g></svg>
                            </div>
                        </div>
                    </div>
                    <script src="/websocket.js?clear-1123fggif"></script>
                    <div class="center-flex absolute theme-FSDFg34S34">
                        <div class="center-flex  theme-FSDFg34S341">
                            <div user-profile-image class="center-flex full-bg theme-FSDFg34S342">

                            </div>
                            <div user-display-name class="center-flex  theme-FSDFg34S343">

                            </div>
                        </div>
                        <div class="center-flex  theme-FSDFg34S344">

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /panel -->
        <div data-role="panel" id="right-panel" data-display="push" data-position="right" data-theme="c">
        </div>
        <!-- /panel -->
    </div>
    <script>
        firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
                const user = firebase.auth().currentUser;
                const ref = firebase.database().ref('/data/users/' + user.uid);
                ref.on("value", snapshot => {
                    const displayName = snapshot.val().displayName;
                    const pfp = snapshot.val().profile_picture
                    $('[user-display-name]').text(displayName)
                    $('[user-profile-image]').css('background-image', 'url(' + pfp + ')')
                });
                ref.once("value", snapshot => {
                    const join = snapshot.val().join;
                    $.each(join, function(o, v) {
                        const userid = v.userid;
                        const serverId = v.serverId;
                        $('servers').append('<div view-server userid="' + userid + '" serverId="' + serverId + '" class="center-flex full-bg theme-FSDFg34S24"></div>')
                        const database = firebase.database().ref('/data/users/' + userid + '/server/' + serverId);
                        database.on("value", snapshot => {
                            const serverId = snapshot.val().serverId;
                            const serverName = snapshot.val().serverId;
                            const serverIcon = snapshot.val().serverIcon;
                            $('[view-server][serverId="' + serverId + '"]').css('background-image', 'url(' + serverIcon + ')')
                        })
                    })
                });
                ////////////////////////////////////
                $(document).on(
                    'click',
                    '[view-server]',
                    function() {
                        const serverId = $(this).attr('serverId')
                        const userid = $(this).attr('userid')
                        $('[view-server]').css('border-radius', '100rem')
                        $(this).css('border-radius', '1rem')
                        $('[server-data]').html('')
                        const data = '<div server-name class="center-flex theme-FSDFg34S3Dg1"> </div> <div server-banner class="center-flex full-bg theme-FSDFg34S3Dg2"> </div>';
                        $('[server-data]').prepend(data)
                        const database = firebase.database().ref('/data/users/' + userid + '/server/' + serverId);
                        database.on("value", snapshot => {
                            const serverId = snapshot.val().serverId;
                            const serverName = snapshot.val().serverName;
                            const serverIcon = snapshot.val().serverIcon;
                            const serverBanner = snapshot.val().serverBanner;
                            $('[server-name]').text(serverName)
                            $('[server-banner]').css('background-image', 'url(' + serverBanner + ')')
                        })
                    }
                );

            } else {
                window.location.href = './login';
            }
        });
        $(document).on(
            'click',
            '[btn-re]',
            function() {
                const get = $(this).attr('get');
                $.getJSON('https://nekos.life/api/v2/' + get + '', function(data) {
                    console.log(data.url)
                        ////$('[set-image]').attr('src', data.url)
                        ///<img set-image src="" alt="" srcset="">
                    $('[data-role="content"]').css('background-image', 'url(' + data.url + ')')
                    $('[set-image]').remove()
                    $('[data-role="content"]').prepend('<img set-image src="' + data.url + '">')
                })
            }
        );
        $(document).on("pageinit", "#demo-page", function() {    
            $(document).on("swipeleft swiperight", "#demo-page", function(e) {         // We check if there is no open panel on the page because otherwise
                         // a swipe to close the left panel would also open the right panel (and v.v.).
                         // We do this by checking the data that the framework stores on the page element (panel: open).
                        
                if ($.mobile.activePage.jqmData("panel") !== "open") {            
                    if (e.type === "swipeleft" ) {                
                        $("#right-panel").panel("open");            
                    } else if (e.type === "swiperight") {                
                        $("#left-panel").panel("open");            
                    }        
                }    
            });
        });
    </script>
</body>

</html>