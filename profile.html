<!------------------------------------------------->
<style>
    .center-flex.relative.proFCDE343 {
        width: -webkit-fill-available;
        height: 13rem;
        margin: 0.5rem;
        background: var(--r2);
        border-radius: 0.5rem;
        overflow: hidden;
        max-width: 30rem;
        padding: 1rem;
    }
    
    .center-flex.absolute.proFCD1E343 {
        width: -webkit-fill-available;
        height: 9rem;
        background-color: var(--r3);
    }
    
    .center-flex.absolute.proFCDE2343 {
        width: 5rem;
        height: 5rem;
        z-index: 1;
        background-color: var(--r5);
        top: unset;
        bottom: 3.3rem;
        left: 1.5rem;
        border-radius: 100rem;
        box-shadow: 0px 0px 0px 0.5rem var(--r2);
    }
    
    .center-flex.absolute.proFCDEf2343 {
        width: -webkit-fill-available;
        display: flex;
        top: unset;
        align-items: center;
        bottom: 1rem;
        left: 0rem;
        font-size: 1.25rem;
        gap: 0.5rem;
        margin-left: 1rem;
        flex-direction: row;
        justify-content: flex-start;
    }
    
    .tehsdSD2F svg {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        align-content: center;
        justify-content: center;
        align-items: center;
        fill: var(--c7);
        width: 1rem;
        height: 1rem;
        padding: 0.25rem;
        border-radius: 100rem;
        background-color: var(--r5);
    }
    
    .center-flex.full-bg.absolute.proFCDE2343FG svg {
        fill: var(--c6);
        width: 16px;
        height: 16px;
    }
    
    .center-flex.full-bg.absolute.proFCDE2343FG {
        top: unset;
        bottom: 6.5rem;
        left: 5rem;
        z-index: 2;
        background: var(--r0);
        padding: 0.4rem 0.4rem 0.5rem 0.5rem;
        border-radius: 100rem;
    }
    
    .center-flex.full-bg.absolute.proFCDE2343FG.add-banner-upload {
        top: 0.5rem;
        bottom: unset;
        left: unset;
        right: 0.5rem;
    }
    
    .center-flex.relative.proFCDE343.ab-bio-andmore {
        height: fit-content;
        display: flex;
        padding: 1rem;
        align-items: flex-start;
        justify-content: flex-start;
        gap: 0.5rem;
    }
    
    .center-flex.proFCDE343g1XD1 {
        text-transform: uppercase;
        FONT-WEIGHT: 900;
        font-size: 1rem;
    }
    
    .center-flex.proFCDE343g1XD2 {
        font-size: 0.75rem;
        letter-spacing: .3px;
    }
    
    .center-flex.proFCDE343g1XD1 {
        display: flex;
        flex-direction: row;
        gap: 0.5rem;
    }
    
    .center-flex.relative.proFCDE343.em-ps-andmore {
        display: flex;
        align-items: flex-start;
        justify-content: flex-start;
        align-content: flex-start;
        height: fit-content;
        padding: 1rem;
        gap: 0.1rem;
    }
    
    .center-flex.theme-GGHDCCR23D1 {
        letter-spacing: 0.2px;
        text-transform: uppercase;
        FONT-WEIGHT: 900;
        font-size: 1rem;
    }
    
    .center-flex.theme-GGHDCCR23D2 {
        display: flex;
        gap: 0.5rem;
        flex-direction: row;
        margin-top: 0.3rem;
        margin-bottom: 0.3rem;
    }
</style>
<div class="center-flex relative proFCDE343">
    <div main-user-banner class="center-flex full-bg absolute proFCD1E343">

    </div>
    <div main-user-avatar class="center-flex full-bg absolute proFCDE2343">

    </div>
    <div umo-btn btn-e="banner" class="center-flex full-bg absolute proFCDE2343FG add-banner-upload">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 20H4V6h9V4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2v9zm-7.79-3.17l-1.96-2.36L5.5 18h11l-3.54-4.71zM20 4V1h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V6h3V4h-3z"/></svg>
    </div>
    <div umo-btn btn-e="avatar" class="center-flex full-bg absolute proFCDE2343FG">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 20H4V6h9V4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2v9zm-7.79-3.17l-1.96-2.36L5.5 18h11l-3.54-4.71zM20 4V1h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V6h3V4h-3z"/></svg>
    </div>

    <div class="center-flex absolute proFCDEf2343">
        <div main-user-displayname class="tehsdSDF">

        </div>
        <div umo-btn btn-e="name" class="tehsdSD2F">
            <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M15,16l-4,4h8c1.1,0,2-0.9,2-2v0c0-1.1-0.9-2-2-2H15z"/><path d="M12.06,7.19l-8.77,8.77C3.11,16.14,3,16.4,3,16.66V19c0,0.55,0.45,1,1,1h2.34c0.27,0,0.52-0.11,0.71-0.29l8.77-8.77 L12.06,7.19z"/><path d="M18.71,8.04c0.39-0.39,0.39-1.02,0-1.41l-2.34-2.34c-0.39-0.39-1.02-0.39-1.41,0l-1.83,1.83l3.75,3.75L18.71,8.04z"/></g></g></svg>
        </div>
    </div>
</div>
<div class="center-flex relative proFCDE343 ab-bio-andmore">
    <div class="center-flex  proFCDE343g1XD1">
        <div>About Me / Bio</div>
        <div umo-btn btn-e="bio" class="tehsdSD2F">
            <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M15,16l-4,4h8c1.1,0,2-0.9,2-2v0c0-1.1-0.9-2-2-2H15z"/><path d="M12.06,7.19l-8.77,8.77C3.11,16.14,3,16.4,3,16.66V19c0,0.55,0.45,1,1,1h2.34c0.27,0,0.52-0.11,0.71-0.29l8.77-8.77 L12.06,7.19z"/><path d="M18.71,8.04c0.39-0.39,0.39-1.02,0-1.41l-2.34-2.34c-0.39-0.39-1.02-0.39-1.41,0l-1.83,1.83l3.75,3.75L18.71,8.04z"/></g></g></svg>
        </div>
    </div>
    <div main-user-bio class="center-flex  proFCDE343g1XD2">

    </div>
</div>
<div class="center-flex relative proFCDE343 em-ps-andmore">
    <div class="center-flex theme-GGHDCCR23D1">
        Email
    </div>
    <div class="center-flex theme-GGHDCCR23D2">
        <div main-user-email class="center-flex theme-GGHDCCR23D3">

        </div>
        <div umo-btn btn-e="email" class="tehsdSD2F">
            <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M15,16l-4,4h8c1.1,0,2-0.9,2-2v0c0-1.1-0.9-2-2-2H15z"/><path d="M12.06,7.19l-8.77,8.77C3.11,16.14,3,16.4,3,16.66V19c0,0.55,0.45,1,1,1h2.34c0.27,0,0.52-0.11,0.71-0.29l8.77-8.77 L12.06,7.19z"/><path d="M18.71,8.04c0.39-0.39,0.39-1.02,0-1.41l-2.34-2.34c-0.39-0.39-1.02-0.39-1.41,0l-1.83,1.83l3.75,3.75L18.71,8.04z"/></g></g></svg>
        </div>
    </div>
    <div class="center-flex theme-GGHDCCR23D1">
        Password
    </div>
    <div class="center-flex theme-GGHDCCR23D2">
        <div class="center-flex theme-GGHDCCR23D3">
            **********
        </div>
        <div umo-btn btn-e="password" class="tehsdSD2F">
            <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M15,16l-4,4h8c1.1,0,2-0.9,2-2v0c0-1.1-0.9-2-2-2H15z"/><path d="M12.06,7.19l-8.77,8.77C3.11,16.14,3,16.4,3,16.66V19c0,0.55,0.45,1,1,1h2.34c0.27,0,0.52-0.11,0.71-0.29l8.77-8.77 L12.06,7.19z"/><path d="M18.71,8.04c0.39-0.39,0.39-1.02,0-1.41l-2.34-2.34c-0.39-0.39-1.02-0.39-1.41,0l-1.83,1.83l3.75,3.75L18.71,8.04z"/></g></g></svg>
        </div>
    </div>
</div>
<style>
    .center-flex.relative.proFCDE343.delete-account {
        display: flex;
        align-items: flex-start;
        justify-content: flex-start;
        align-content: flex-start;
        height: fit-content;
        padding: 1rem;
        gap: 0.3rem;
    }
    
    .center-flex.theme-fdgSAD231FGDF33 {
        display: flex;
        flex-direction: row;
        justify-content: flex-start;
        gap: 0.5rem;
    }
    
    .center-flex.theme-fdgSAD231FGDF35 {
        padding: 0.9rem 0.9rem;
        width: fit-content;
        background: var(--r5);
        border-radius: 5px;
    }
    
    .center-flex.theme-fdgSAD231FGDF21 {
        letter-spacing: 0.2px;
        text-transform: uppercase;
        FONT-WEIGHT: 900;
        font-size: 1rem;
    }
    
    .center-flex.theme-fdgSAD231FGDF35.theme-fdgSAD231FGDF35sdf {
        background: #ed4245;
    }
</style>
<div class="center-flex relative proFCDE343 delete-account">
    <div class="center-flex theme-fdgSAD231FGDF21">
        Account Removal
    </div>
    <div class="center-flex theme-fdgSAD231FGDF32">

    </div>
    <div class="center-flex theme-fdgSAD231FGDF33">
        <div class="center-flex theme-fdgSAD231FGDF35 theme-fdgSAD231FGDF35sdf">
            Delete Account
        </div>
        <div class="center-flex theme-fdgSAD231FGDF35 theme-fdgSAD231FGDF35sdfc">
            Disable Account
        </div>
    </div>
</div>

<script>
    firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
            const user = firebase.auth().currentUser;
            const data = firebase.database().ref('/data/users/' + user.uid);
            data.on('value', function(snapshot) {
                if (snapshot.exists()) {
                    if (snapshot.val().displayName) {
                        const displayName = (snapshot.val() && snapshot.val().displayName);
                        const profile_picture = (snapshot.val() && snapshot.val().profile_picture);
                        const banner = (snapshot.val() && snapshot.val().banner);
                        const bio = (snapshot.val() && snapshot.val().bio);
                        const onlineState = (snapshot.val() && snapshot.val().onlineState);
                        $('[main-user-displayname]').text(displayName)
                        $('[main-user-email]').text(user.email)

                        $('[main-user-bio]').text(bio)
                        $('[main-user-avatar]').css('background-image', 'url(' + profile_picture + ')')
                        $('[main-user-banner]').css('background-image', 'url(' + banner + ')')
                    }
                }
            })
            $(document).on(
                'click',
                '[umo-btn]',
                function() {
                    const key = $(this).attr('btn-e');
                    const data = firebase.database().ref('/data/users/' + user.uid);
                    if (key == 'name') {
                        (async function() {
                            const {
                                value: text
                            } = await Swal.fire({
                                title: 'Update Display Name',
                                input: 'text',
                                inputLabel: 'Your Name',
                                inputPlaceholder: 'Enter Name'
                            })

                            if (text) {
                                data.update({
                                    displayName: text
                                }).then(function() {
                                    swal('Done', 'Your Name as been update')
                                }).catch((error) => {
                                    var errorCode = error.code;
                                    var errorMessage = error.message;
                                    swal(errorMessage)
                                });
                            }
                        })()
                    }
                    if (key == 'banner') {

                        $('body').prepend('<input banner style="display: none;" type="file" class="file">')
                        $('[banner]').trigger('click');
                        $(document).on("change", 'input[type="file"][banner]', function() {

                            var $files = $(this).get(0).files;

                            if ($files.length) {

                                // Reject big files
                                if ($files[0].size > $(this).data("max-size") * 1024) {
                                    console.log("Please select a smaller file");
                                    return false;
                                }

                                // Replace ctrlq with your own API key
                                var apiUrl = 'https://api.imgur.com/3/image';
                                var apiKey = '4b208caca83b4c4';

                                var formData = new FormData();
                                formData.append("image", $files[0]);

                                var settings = {
                                    "async": true,
                                    "crossDomain": true,
                                    "url": apiUrl,
                                    "method": "POST",
                                    "datatype": "json",
                                    "headers": {
                                        "Authorization": "Client-ID " + apiKey
                                    },
                                    "processData": false,
                                    "contentType": false,
                                    "data": formData,
                                    beforeSend: function(xhr) {
                                        swal({
                                            text: "Uploading",
                                            buttons: false,
                                            closeOnClickOutside: false,
                                        });
                                    },
                                    success: function(res) {
                                        console.log(res.data.link);
                                        data.update({
                                            banner: res.data.link
                                        }).then(function() {
                                            swal('Done', 'Your banner as been update')
                                            $('[banner]').remove();
                                        }).catch((error) => {
                                            var errorCode = error.code;
                                            var errorMessage = error.message;
                                            swal(errorMessage)
                                        });

                                        ///

                                    },
                                    error: function() {
                                        $('[banner]').remove();
                                        swal("Failed | 上传失败 | MAKO");
                                    }
                                }
                                $.ajax(settings).done(function(response) {
                                    console.log("Done | 成功");
                                    swal({
                                        title: "Done",
                                        icon: "success",
                                        timer: 1500,
                                    });
                                });
                            }
                        });

                    }

                    if (key == 'avatar') {

                        $('body').prepend('<input avatar style="display: none;" type="file" class="file">')
                        $('[avatar]').trigger('click');
                        $(document).on("change", 'input[type="file"][avatar]', function() {

                            var $files = $(this).get(0).files;

                            if ($files.length) {

                                // Reject big files
                                if ($files[0].size > $(this).data("max-size") * 1024) {
                                    console.log("Please select a smaller file");
                                    return false;
                                }

                                // Replace ctrlq with your own API key
                                var apiUrl = 'https://api.imgur.com/3/image';
                                var apiKey = '4b208caca83b4c4';

                                var formData = new FormData();
                                formData.append("image", $files[0]);

                                var settings = {
                                    "async": true,
                                    "crossDomain": true,
                                    "url": apiUrl,
                                    "method": "POST",
                                    "datatype": "json",
                                    "headers": {
                                        "Authorization": "Client-ID " + apiKey
                                    },
                                    "processData": false,
                                    "contentType": false,
                                    "data": formData,
                                    beforeSend: function(xhr) {
                                        swal({
                                            text: "Uploading",
                                            buttons: false,
                                            closeOnClickOutside: false,
                                        });
                                    },
                                    success: function(res) {
                                        console.log(res.data.link);
                                        data.update({
                                            profile_picture: res.data.link
                                        }).then(function() {
                                            swal('Done', 'Your Avatar as been update')
                                            $('[avatar]').remove();
                                        }).catch((error) => {
                                            var errorCode = error.code;
                                            var errorMessage = error.message;
                                            swal(errorMessage)
                                        });

                                        ///

                                    },
                                    error: function() {

                                        swal("Failed | 上传失败 | MAKO");
                                        $('[avatar]').remove();
                                    }
                                }
                                $.ajax(settings).done(function(response) {
                                    console.log("Done | 成功");
                                    swal({
                                        title: "Done",
                                        icon: "success",
                                        timer: 1500,
                                    });
                                });
                            }
                        });

                    }
                    if (key == 'password') {
                        (async function() {
                            const {
                                value: password
                            } = await Swal.fire({
                                title: 'Update Password',
                                input: 'password',
                                inputLabel: 'Your Password',
                                inputPlaceholder: 'Enter Password'
                            })

                            if (password) {


                                user.updatePassword(password).then(() => {
                                    // Update successful.
                                    swal('Done', 'Password Update')
                                }).catch((error) => {
                                    var errorCode = error.code;
                                    var errorMessage = error.message;
                                    swal(errorMessage)
                                });

                            }
                        })()

                    }
                    if (key == 'email') {
                        (async function() {
                            const {
                                value: email
                            } = await Swal.fire({
                                title: 'Update email',
                                input: 'email',
                                inputLabel: 'Your email',
                                inputPlaceholder: 'Enter email'
                            })

                            if (email) {


                                user.updateEmail(email).then(() => {
                                    // Update successful.
                                    swal('Done', 'email Update')
                                }).catch((error) => {
                                    var errorCode = error.code;
                                    var errorMessage = error.message;
                                    swal(errorMessage)
                                });

                            }
                        })()

                    }
                }
            )

        } else {

        }
    })
</script>
<!------------------------------------------------>