<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <style>
        @import url("/styles/main.css?clear-24");
        @media (max-width:980px) {}
        
        .center-flex.theme-ser123123gfSDFDF svg {
            fill: var(--c9);
            width: 1.8rem;
            height: 1.8rem;
        }
        
        .center-flex.theme-ser123123SDFDF {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            flex-wrap: nowrap;
            align-content: center;
            width: -webkit-fill-available;
            position: fixed;
            align-items: center;
            padding: 0rem 1rem;
            height: 5rem;
            background: var(--c15);
            /* border-bottom: .15rem solid var(--c13); */
            top: 0;
            left: 0;
            z-index: 112;
            gap: 0.8rem;
        }
        
        .center-flex.theme-ser123123gfSDFDF {
            width: 10px;
        }
        
        .center-flex.theme-ser123g123SDFDF {
            width: -webkit-fill-available;
            height: fit-content;
        }
        
        .center-flex.theme-ser123g123SDFDF input[type="search"] {
            appearance: none;
            box-sizing: unset;
            padding: 0.2rem 1rem;
            border: unset;
            width: -webkit-fill-available;
            height: 2rem;
            background: var(--c13);
            color: var(--c9);
            border-radius: 5px;
            font-size: 1rem;
            font-family: 'C1';
            outline: none;
        }
        
        .center-flex.theme-ser123g123SDFDF input[type="search"]::placeholder {
            /* Chrome, Firefox, Opera, Safari 10.1+ */
            color: var(--c9);
            /* Firefox */
        }
        
        .theme-dsfsd112FDfdfdfdddfsdfsdf {
            margin-top: 1rem;
            margin: 1rem;
            gap: 0.5rem;
        }
        
        .full-bg.center-flex.theme-dsfsd112fdfgFDfsdfsdf {
            width: 2rem;
            height: 2rem;
            border-radius: 100rem;
            background-color: var(--c15);
        }
        
        .center-flex.theme-dsfsd112FDfsdfsdf {
            height: 3rem;
            width: -webkit-fill-available;
            background: var(--c14);
            border-radius: 5px;
            display: flex;
            flex-direction: row;
            gap: 1rem;
            padding: 0rem 1rem;
            font-size: 1rem;
            justify-content: flex-start;
        }
    </style>
</head>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.7/dist/sweetalert2.all.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.3.2/firebase.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.3.2/firebase-firestore.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.3.2/firebase-analytics.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.3.2/firebase-app.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.3.2/firebase-auth.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.3.2/firebase-database.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.3.2/firebase.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="/scripts/purl.js"></script>
<script src="/scripts/firebase.js"></script>
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<!---/////////////////////// https://atomiks.github.io/ /////////////////////--->
<script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.min.js"></script>
<script src="https://unpkg.com/tippy.js@6/dist/tippy-bundle.umd.js"></script>
<link rel="stylesheet" href="https://unpkg.com/tippy.js@6/animations/scale.css" />
<!---/////////////////////// https://atomiks.github.io/ /////////////////////--->

<body>
    <div class="center-flex theme-ser123123SDFDF">
        <div gobackbtn class="center-flex theme-ser123123gfSDFDF" icon_arrow_left>

        </div>
        <div class="center-flex theme-ser123g123SDFDF">
            <input search_usersx placeholder="Search user!" type="search" name="" id="">
        </div>
    </div>
    <div mobile_header class="mobile-header">

    </div>
    <header class="full-wh center-flex" header>

    </header>

    <div class="full-wh center-flex theme-dsfsd112FDfdfdfdddfsdfsdf" import_search_datax>
        Find user
    </div>
    <script defer src="/scripts/com.js?clear-2421"></script>
    <script defer src="/scripts/goto.js"></script>
    <script defer src="/scripts/flow.js"></script>
    <script>
        $('[gobackbtn]').on('click', function() {
            var goback = $.url().param('goback');
            window.location.href = goback;
        });


        $('[search_usersx]').on('change', function() {
            var search_val = $('[search_usersx]').val();


            $('[import_search_datax]').html("");
            if (search_val == 0) {



                $('[import_search_datax]').prepend('<nen>Not Found</nen>');

            } else {
                firebase.database().ref('/data').child('users').orderByChild('displayName').startAt(search_val).on("value", function(snapshot) {


                    $('[open_user]').on('click', function() {
                        const valget = $(this).attr('userid');
                        window.location.href = "/u?id=" + valget;
                    });

                    snapshot.forEach(function(data) {

                        const layout = '<div  data-aos="fade-in" data-aos-duration="050" open_user userid="' + data.val().userid + '" class="center-flex theme-dsfsd112FDfsdfsdf">' +
                            '<div style="background-image:url(' + data.val().profile_picture + ')" class="full-bg center-flex theme-dsfsd112fdfgFDfsdfsdf">' +
                            '</div>' +
                            '<div class="center-flex theme-dsfsd112FDfsdfgsdfsdf">' +
                            data.val().displayName +
                            '</div>' +
                            '</div>';

                        ////////////// $(layout).appendTo($('[import_search_datax]'))////////////

                        /////////////////////////////////////////////
                        var users = data.key;
                        var flow = '<div class="center-flex theme-XC12sDDSfaEE">' +
                            '<div class="center-flex theme-XC12svDDSaEE">' +
                            '<a href="/u?id=' + users + '"><div  class="center-flex theme-XCb12sDDSaEE full-bg " user-status-' + users + ' flow_user_profile_pic_' + users + '>' +
                            '</div></a>' +
                            '<div class="center-flex theme-XC1n2sDDSaEE">' +
                            '<div class="theme-FSD234FDS32">' +
                            '<a class="theme-FSD234FDS32AA" href="/u?id=' + users + '" user_displayName_' + users + '><div import_small_loader></div></a>' +
                            '</div>' +
                            '<div class="small-badges theme-SDFsdf2334DSF">' +
                            '<badge class="center-flex theme-FDSHGF45GFFFS" user_badges_' + users + '>' +
                            '</badge>' +
                            '</div>' +
                            '</div>' +
                            '</div>' +
                            '<div class="center-flex noselect pointer theme-XC12sDDSmaEE">' +
                            '<a class="theme-FSD234FDS32AA" href="/u?id=' + users + '">Open</a>' +
                            '</div>' +
                            '</div>';

                        $(flow).appendTo($("[import_search_datax]"));



                        var db_ref = firebase.database().ref('/data/users/' + users);
                        db_ref.on('value', function(snapshot) {
                            var displayName = (snapshot.val() && snapshot.val().displayName);
                            var profile_picture = (snapshot.val() && snapshot.val().profile_picture);
                            var mainuserid = (snapshot.val() && snapshot.val().userid);
                            var onlineState = (snapshot.val() && snapshot.val().onlineState);
                            if (onlineState == true) {
                                $('[user-status-' + mainuserid + ']').addClass('flow-online');
                            } else {
                                $('[user-status-' + mainuserid + ']').addClass('flow-offline');
                            };
                            $('[user_displayName_' + mainuserid + ']').text(displayName);
                            $('[flow_user_profile_pic_' + mainuserid + ']').css('background-image', 'url(' + profile_picture + '),url(/images/icon.png)');
                            console.log(displayName)
                        });
                        db_ref.once('value', function(snapshot) {

                            var mainuserid = (snapshot.val() && snapshot.val().userid);


                            db_ref.child('badges').once('value', function(user) {
                                user.forEach((snapshot) => {
                                    var ggk = snapshot.key + snapshot.val();
                                    setTimeout(
                                        function() {
                                            if (ggk == 'verifiedtrue') {
                                                $('[user_badges_' + mainuserid + ']').prepend(icon_verified);
                                                console.log('verified')
                                                tippy('[tippy]', {
                                                    inertia: true,
                                                    hideOnClick: false,
                                                    interactive: true,
                                                    theme: 'tomato',
                                                });
                                            };
                                            setTimeout(
                                                function() {
                                                    if (ggk == 'partnertrue') {
                                                        $('[user_badges_' + mainuserid + ']').prepend(icon_turbo_1);
                                                        console.log('partner')
                                                        tippy('[tippy]', {
                                                            inertia: true,
                                                            hideOnClick: false,
                                                            interactive: true,
                                                            theme: 'tomato',
                                                        });
                                                    };
                                                    setTimeout(
                                                        function() {

                                                            if (ggk == 'stafftrue') {
                                                                $('[user_badges_' + mainuserid + ']').prepend(icon_staff);
                                                                console.log('staff')
                                                                tippy('[tippy]', {
                                                                    inertia: true,
                                                                    hideOnClick: false,
                                                                    interactive: true,
                                                                    theme: 'tomato',
                                                                });
                                                            };
                                                        }, 0001);

                                                }, 0001);
                                        }, 0001);





                                });
                            });
                        });

                        //////////////////////////////////////////////

                    });
                });
            }
        })
    </script>
</body>

</html>